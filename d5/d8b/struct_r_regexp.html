<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ruby: RRegexp Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ruby<span id="projectnumber">&#160;3.2.0dev (2022-06-11 revision 0e2c01bd094617f5c82759bdab03bb786ce89d56)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">RRegexp Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Ruby's regular expression.  
 <a href="../../d5/d8b/struct_r_regexp.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/d61/rregexp_8h_source.html">rregexp.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a718ecf7735f531beac06bf76a72419a6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/d22/struct_r_basic.html">RBasic</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8b/struct_r_regexp.html#a718ecf7735f531beac06bf76a72419a6">basic</a></td></tr>
<tr class="memdesc:a718ecf7735f531beac06bf76a72419a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic part, including flags and class.  <a href="../../d5/d8b/struct_r_regexp.html#a718ecf7735f531beac06bf76a72419a6">More...</a><br /></td></tr>
<tr class="separator:a718ecf7735f531beac06bf76a72419a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c99444c8e65159fa9c076a4b249eea"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d0e/structre__pattern__buffer.html">re_pattern_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8b/struct_r_regexp.html#a99c99444c8e65159fa9c076a4b249eea">ptr</a></td></tr>
<tr class="memdesc:a99c99444c8e65159fa9c076a4b249eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pattern buffer.  <a href="../../d5/d8b/struct_r_regexp.html#a99c99444c8e65159fa9c076a4b249eea">More...</a><br /></td></tr>
<tr class="separator:a99c99444c8e65159fa9c076a4b249eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f16e0d124ca460cac61ce563a0c7aed"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8b/struct_r_regexp.html#a7f16e0d124ca460cac61ce563a0c7aed">src</a></td></tr>
<tr class="memdesc:a7f16e0d124ca460cac61ce563a0c7aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source code of this expression.  <a href="../../d5/d8b/struct_r_regexp.html#a7f16e0d124ca460cac61ce563a0c7aed">More...</a><br /></td></tr>
<tr class="separator:a7f16e0d124ca460cac61ce563a0c7aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96442cc5742e6edc3f587f952924391"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8b/struct_r_regexp.html#ac96442cc5742e6edc3f587f952924391">usecnt</a></td></tr>
<tr class="memdesc:ac96442cc5742e6edc3f587f952924391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference count.  <a href="../../d5/d8b/struct_r_regexp.html#ac96442cc5742e6edc3f587f952924391">More...</a><br /></td></tr>
<tr class="separator:ac96442cc5742e6edc3f587f952924391"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Ruby's regular expression. </p>
<p >A regexp is compiled into its own intermediate representation. This one holds that info. Regexp "match" operation then executes that IR. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html#l11852">11852</a> of file <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a718ecf7735f531beac06bf76a72419a6" name="a718ecf7735f531beac06bf76a72419a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718ecf7735f531beac06bf76a72419a6">&#9670;&nbsp;</a></span>basic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d22/struct_r_basic.html">RBasic</a> RRegexp::basic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic part, including flags and class. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html#l11853">11853</a> of file <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a>.</p>

</div>
</div>
<a id="a99c99444c8e65159fa9c076a4b249eea" name="a99c99444c8e65159fa9c076a4b249eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c99444c8e65159fa9c076a4b249eea">&#9670;&nbsp;</a></span>ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d0e/structre__pattern__buffer.html">re_pattern_buffer</a> * RRegexp::ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The pattern buffer. </p>
<p >This is a quasi-opaque struct that holds compiled intermediate representation of the regular expression.</p>
<dl class="section note"><dt>Note</dt><dd>Compilation of a regexp could be delayed until actual match. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html#l11854">11854</a> of file <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a>.</p>

</div>
</div>
<a id="a7f16e0d124ca460cac61ce563a0c7aed" name="a7f16e0d124ca460cac61ce563a0c7aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f16e0d124ca460cac61ce563a0c7aed">&#9670;&nbsp;</a></span>src</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> RRegexp::src</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Source code of this expression. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html#l11855">11855</a> of file <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a>.</p>

</div>
</div>
<a id="ac96442cc5742e6edc3f587f952924391" name="ac96442cc5742e6edc3f587f952924391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96442cc5742e6edc3f587f952924391">&#9670;&nbsp;</a></span>usecnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long RRegexp::usecnt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reference count. </p>
<p >A regexp match can take extraordinarily long time to run. Ruby's regular expression is heavily extended and not a regular language any longer; runs in NP-time in practice. Now, Ruby also has threads and GVL. In order to prevent long GVL lockup, our regexp engine can release it on occasions. This means that multiple threads can touch a regular expressions at once. That itself is okay. But their cleanup phase shall wait for all the concurrent runs, to prevent use-after-free situation. This field is used to count such threads that are executing this particular pattern buffer.</p>
<dl class="section warning"><dt>Warning</dt><dd>Of course, touching this field from extension libraries causes catastrophic effects. Just leave it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html#l11856">11856</a> of file <a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>.ext/include/x86_64-linux/<a class="el" href="../../d3/dec/rb__mjit__min__header-2_88_80_8h_source.html">rb_mjit_min_header-2.8.0.h</a></li>
<li>.ext/include/x86_64-linux/<a class="el" href="../../d6/dbc/rb__mjit__min__header-3_80_84_8h_source.html">rb_mjit_min_header-3.0.4.h</a></li>
<li>.ext/include/x86_64-linux/<a class="el" href="../../d4/d1f/rb__mjit__min__header-3_81_80_8h_source.html">rb_mjit_min_header-3.1.0.h</a></li>
<li>.ext/include/x86_64-linux/<a class="el" href="../../d3/d70/rb__mjit__min__header-3_81_81_8h_source.html">rb_mjit_min_header-3.1.1.h</a></li>
<li>.ext/include/x86_64-linux/<a class="el" href="../../d3/db9/rb__mjit__min__header-3_82_80_8h_source.html">rb_mjit_min_header-3.2.0.h</a></li>
<li>include/ruby/internal/core/<a class="el" href="../../dc/d61/rregexp_8h_source.html">rregexp.h (ada4a0fdd231cce24407ad4a89f6e5fd56940b31)</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ruby: CRuby Embedding APIs</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ruby<span id="projectnumber">&#160;3.2.0dev (2022-06-11 revision 0e2c01bd094617f5c82759bdab03bb786ce89d56)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CRuby Embedding APIs</div></div>
</div><!--header-->
<div class="contents">

<p>CRuby interpreter APIs.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for CRuby Embedding APIs:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d43/group__embed.png" border="0" usemap="#ade_2d43_2group____embed" alt=""/></div>
<map name="ade_2d43_2group____embed" id="ade_2d43_2group____embed">
<area shape="rect" title="CRuby interpreter APIs." alt="" coords="5,5,171,31"/>
<area shape="rect" href="../../d7/dce/group__ruby1.html" title="A part of the implementation of ruby(1) command." alt="" coords="219,5,387,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:d7/dce/group__ruby1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dce/group__ruby1.html">ruby(1) implementation</a></td></tr>
<tr class="memdesc:d7/dce/group__ruby1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A part of the implementation of ruby(1) command. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga76525fa144bacb76f7a5f0ac2afc0400"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga76525fa144bacb76f7a5f0ac2afc0400">ruby_init_stack</a> (volatile <a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> *addr)</td></tr>
<tr class="memdesc:ga76525fa144bacb76f7a5f0ac2afc0400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set stack bottom of Ruby implementation.  <a href="../../de/d43/group__embed.html#ga76525fa144bacb76f7a5f0ac2afc0400">More...</a><br /></td></tr>
<tr class="separator:ga76525fa144bacb76f7a5f0ac2afc0400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cdb762fb84f21bf6fed553b81888423"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga3cdb762fb84f21bf6fed553b81888423">ruby_setup</a> (void)</td></tr>
<tr class="memdesc:ga3cdb762fb84f21bf6fed553b81888423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the VM and builtin libraries.  <a href="../../de/d43/group__embed.html#ga3cdb762fb84f21bf6fed553b81888423">More...</a><br /></td></tr>
<tr class="separator:ga3cdb762fb84f21bf6fed553b81888423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga956277b3fff2f29d8d64d81ea0fade12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga956277b3fff2f29d8d64d81ea0fade12">ruby_cleanup</a> (int ex)</td></tr>
<tr class="memdesc:ga956277b3fff2f29d8d64d81ea0fade12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs the VM.  <a href="../../de/d43/group__embed.html#ga956277b3fff2f29d8d64d81ea0fade12">More...</a><br /></td></tr>
<tr class="separator:ga956277b3fff2f29d8d64d81ea0fade12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5efbdb123063db473a9b82d8250c0b96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga5efbdb123063db473a9b82d8250c0b96">ruby_finalize</a> (void)</td></tr>
<tr class="memdesc:ga5efbdb123063db473a9b82d8250c0b96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the VM finalization processes.  <a href="../../de/d43/group__embed.html#ga5efbdb123063db473a9b82d8250c0b96">More...</a><br /></td></tr>
<tr class="separator:ga5efbdb123063db473a9b82d8250c0b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b321575afd639286fa2fb5eb46ab64d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga0b321575afd639286fa2fb5eb46ab64d">ruby_stop</a> (int)</td></tr>
<tr class="memdesc:ga0b321575afd639286fa2fb5eb46ab64d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="../../de/d43/group__embed.html#ga956277b3fff2f29d8d64d81ea0fade12" title="Destructs the VM.">ruby_cleanup()</a> and exits the process.  <a href="../../de/d43/group__embed.html#ga0b321575afd639286fa2fb5eb46ab64d">More...</a><br /></td></tr>
<tr class="separator:ga0b321575afd639286fa2fb5eb46ab64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9be1c274a7c6746223f95464b3fe7c45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga9be1c274a7c6746223f95464b3fe7c45">ruby_stack_check</a> (void)</td></tr>
<tr class="memdesc:ga9be1c274a7c6746223f95464b3fe7c45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for stack overflow.  <a href="../../de/d43/group__embed.html#ga9be1c274a7c6746223f95464b3fe7c45">More...</a><br /></td></tr>
<tr class="separator:ga9be1c274a7c6746223f95464b3fe7c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga995cb6527ae48126e4655054f9d0b94d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga995cb6527ae48126e4655054f9d0b94d">ruby_stack_length</a> (<a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> **topnotch)</td></tr>
<tr class="memdesc:ga995cb6527ae48126e4655054f9d0b94d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries what Ruby thinks is the machine stack.  <a href="../../de/d43/group__embed.html#ga995cb6527ae48126e4655054f9d0b94d">More...</a><br /></td></tr>
<tr class="separator:ga995cb6527ae48126e4655054f9d0b94d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37e32e7c9181dda6e68eb8e9627baf0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga37e32e7c9181dda6e68eb8e9627baf0c">ruby_exec_node</a> (void *n)</td></tr>
<tr class="memdesc:ga37e32e7c9181dda6e68eb8e9627baf0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identical to <a class="el" href="../../d7/dce/group__ruby1.html#ga02a1a8a76248526a956d8c0f9e1f232b" title="Runs the given compiled source and exits this process.">ruby_run_node()</a>, except it returns an opaque execution status.  <a href="../../de/d43/group__embed.html#ga37e32e7c9181dda6e68eb8e9627baf0c">More...</a><br /></td></tr>
<tr class="separator:ga37e32e7c9181dda6e68eb8e9627baf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79f43a6183d996338565fb22430d60c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5">ruby_script</a> (const char *name)</td></tr>
<tr class="memdesc:ga79f43a6183d996338565fb22430d60c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current script name to this value.  <a href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5">More...</a><br /></td></tr>
<tr class="separator:ga79f43a6183d996338565fb22430d60c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91ccb58731af718175751a4cd7b6293b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga91ccb58731af718175751a4cd7b6293b">ruby_set_script_name</a> (<a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> name)</td></tr>
<tr class="memdesc:ga91ccb58731af718175751a4cd7b6293b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identical to <a class="el" href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5" title="Sets the current script name to this value.">ruby_script()</a>, except it takes the name as a Ruby String instance.  <a href="../../de/d43/group__embed.html#ga91ccb58731af718175751a4cd7b6293b">More...</a><br /></td></tr>
<tr class="separator:ga91ccb58731af718175751a4cd7b6293b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6a1cc74c8bfe75b72688ca185c14db8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#gad6a1cc74c8bfe75b72688ca185c14db8">ruby_prog_init</a> (void)</td></tr>
<tr class="memdesc:gad6a1cc74c8bfe75b72688ca185c14db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines built-in variables.  <a href="../../de/d43/group__embed.html#gad6a1cc74c8bfe75b72688ca185c14db8">More...</a><br /></td></tr>
<tr class="separator:gad6a1cc74c8bfe75b72688ca185c14db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f84915d6c2752a20a285b9a6c53ca18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#ga7f84915d6c2752a20a285b9a6c53ca18">ruby_set_argv</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:ga7f84915d6c2752a20a285b9a6c53ca18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets argv that ruby understands.  <a href="../../de/d43/group__embed.html#ga7f84915d6c2752a20a285b9a6c53ca18">More...</a><br /></td></tr>
<tr class="separator:ga7f84915d6c2752a20a285b9a6c53ca18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad30fb62afcd958cdade89a91210c958c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#gad30fb62afcd958cdade89a91210c958c">ruby_process_options</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:gad30fb62afcd958cdade89a91210c958c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identical to <a class="el" href="../../d7/dce/group__ruby1.html#ga937b12922273f284f83eeb12c65db8f3" title="Processes command line arguments and compiles the Ruby source to execute.">ruby_options()</a>, except it raises ruby-level exceptions on failure.  <a href="../../de/d43/group__embed.html#gad30fb62afcd958cdade89a91210c958c">More...</a><br /></td></tr>
<tr class="separator:gad30fb62afcd958cdade89a91210c958c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6a5ac6ba25ac697f5aef14f07f0f5d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#gab6a5ac6ba25ac697f5aef14f07f0f5d9">ruby_init_loadpath</a> (void)</td></tr>
<tr class="memdesc:gab6a5ac6ba25ac697f5aef14f07f0f5d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up <code>$LOAD_PATH</code>.  <a href="../../de/d43/group__embed.html#gab6a5ac6ba25ac697f5aef14f07f0f5d9">More...</a><br /></td></tr>
<tr class="separator:gab6a5ac6ba25ac697f5aef14f07f0f5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecf0e09547e1b869f20b694d1f84635d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#gaecf0e09547e1b869f20b694d1f84635d">ruby_incpush</a> (const char *path)</td></tr>
<tr class="memdesc:gaecf0e09547e1b869f20b694d1f84635d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the given path to the end of the load path.  <a href="../../de/d43/group__embed.html#gaecf0e09547e1b869f20b694d1f84635d">More...</a><br /></td></tr>
<tr class="separator:gaecf0e09547e1b869f20b694d1f84635d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0fc89013d9cf6ab2afea16f82750789"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d43/group__embed.html#gae0fc89013d9cf6ab2afea16f82750789">ruby_sig_finalize</a> (void)</td></tr>
<tr class="memdesc:gae0fc89013d9cf6ab2afea16f82750789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear signal handlers.  <a href="../../de/d43/group__embed.html#gae0fc89013d9cf6ab2afea16f82750789">More...</a><br /></td></tr>
<tr class="separator:gae0fc89013d9cf6ab2afea16f82750789"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >CRuby interpreter APIs. </p>
<p >These are APIs to embed MRI interpreter into your program. These functions are not a part of Ruby extension library API. Extension libraries of Ruby should not depend on these functions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga956277b3fff2f29d8d64d81ea0fade12" name="ga956277b3fff2f29d8d64d81ea0fade12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga956277b3fff2f29d8d64d81ea0fade12">&#9670;&nbsp;</a></span>ruby_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_cleanup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructs the VM. </p>
<p >Runs the VM finalization processes as well as <a class="el" href="../../de/d43/group__embed.html#ga5efbdb123063db473a9b82d8250c0b96" title="Runs the VM finalization processes.">ruby_finalize()</a>, and frees resources used by the VM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ex</td><td>Default value to the return value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EXIT_FAILURE</td><td>An error occurred. </td></tr>
    <tr><td class="paramname">ex</td><td>Successful cleanup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function does not raise any exception. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d57/eval_8c_source.html#l00176">176</a> of file <a class="el" href="../../d3/d57/eval_8c_source.html">eval.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d57/eval_8c_source.html#l00289">ruby_stop()</a>.</p>

</div>
</div>
<a id="ga37e32e7c9181dda6e68eb8e9627baf0c" name="ga37e32e7c9181dda6e68eb8e9627baf0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37e32e7c9181dda6e68eb8e9627baf0c">&#9670;&nbsp;</a></span>ruby_exec_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_exec_node </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identical to <a class="el" href="../../d7/dce/group__ruby1.html#ga02a1a8a76248526a956d8c0f9e1f232b" title="Runs the given compiled source and exits this process.">ruby_run_node()</a>, except it returns an opaque execution status. </p>
<p >You can pass it to rb_cleanup().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Opaque "node" pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful end-of-execution. </td></tr>
    <tr><td class="paramname">otherwise</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d57/eval_8c_source.html#l00325">325</a> of file <a class="el" href="../../d3/d57/eval_8c_source.html">eval.c</a>.</p>

</div>
</div>
<a id="ga5efbdb123063db473a9b82d8250c0b96" name="ga5efbdb123063db473a9b82d8250c0b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5efbdb123063db473a9b82d8250c0b96">&#9670;&nbsp;</a></span>ruby_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the VM finalization processes. </p>
<p ><code>END{}</code> and procs registered by <code>Kernel.#at_exit</code> are executed here. See the Ruby language spec for more details.</p>
<dl class="section note"><dt>Note</dt><dd>This function is allowed to raise an exception if an error occurred. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d57/eval_8c_source.html#l00168">168</a> of file <a class="el" href="../../d3/d57/eval_8c_source.html">eval.c</a>.</p>

</div>
</div>
<a id="gaecf0e09547e1b869f20b694d1f84635d" name="gaecf0e09547e1b869f20b694d1f84635d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecf0e09547e1b869f20b694d1f84635d">&#9670;&nbsp;</a></span>ruby_incpush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_incpush </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appends the given path to the end of the load path. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="../../de/d43/group__embed.html#gab6a5ac6ba25ac697f5aef14f07f0f5d9" title="Sets up $LOAD_PATH.">ruby_init_loadpath()</a> must be done beforehand. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path you want to push to the load path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l00458">458</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

</div>
</div>
<a id="gab6a5ac6ba25ac697f5aef14f07f0f5d9" name="gab6a5ac6ba25ac697f5aef14f07f0f5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6a5ac6ba25ac697f5aef14f07f0f5d9">&#9670;&nbsp;</a></span>ruby_init_loadpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_init_loadpath </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up <code>$LOAD_PATH</code>. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l00619">619</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

</div>
</div>
<a id="ga76525fa144bacb76f7a5f0ac2afc0400" name="ga76525fa144bacb76f7a5f0ac2afc0400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76525fa144bacb76f7a5f0ac2afc0400">&#9670;&nbsp;</a></span>ruby_init_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_init_stack </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set stack bottom of Ruby implementation. </p>
<p >You must call this function before any heap allocation by Ruby implementation. Or GC will break living objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>A pointer somewhere on the stack, near its bottom. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d3/d57/eval_8c_source.html#l00325">ruby_exec_node()</a>, <a class="el" href="../../d3/d57/eval_8c_source.html#l00109">ruby_options()</a>, <a class="el" href="../../d3/d57/eval_8c_source.html#l00312">ruby_run_node()</a>, and <a class="el" href="../../d3/d57/eval_8c_source.html#l00065">ruby_setup()</a>.</p>

</div>
</div>
<a id="gad30fb62afcd958cdade89a91210c958c" name="gad30fb62afcd958cdade89a91210c958c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad30fb62afcd958cdade89a91210c958c">&#9670;&nbsp;</a></span>ruby_process_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * ruby_process_options </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identical to <a class="el" href="../../d7/dce/group__ruby1.html#ga937b12922273f284f83eeb12c65db8f3" title="Processes command line arguments and compiles the Ruby source to execute.">ruby_options()</a>, except it raises ruby-level exceptions on failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>Process main's <code>argc</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>Process main's <code>argv</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An opaque "node" pointer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l02625">2625</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d57/eval_8c_source.html#l00109">ruby_options()</a>.</p>

</div>
</div>
<a id="gad6a1cc74c8bfe75b72688ca185c14db8" name="gad6a1cc74c8bfe75b72688ca185c14db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6a1cc74c8bfe75b72688ca185c14db8">&#9670;&nbsp;</a></span>ruby_prog_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_prog_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines built-in variables. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l02578">2578</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d57/eval_8c_source.html#l00065">ruby_setup()</a>.</p>

</div>
</div>
<a id="ga79f43a6183d996338565fb22430d60c5" name="ga79f43a6183d996338565fb22430d60c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79f43a6183d996338565fb22430d60c5">&#9670;&nbsp;</a></span>ruby_script()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_script </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current script name to this value. </p>
<p >This is similar to <code>$0 = name</code> in Ruby level but also affects <code>Method#location</code> and others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>File name to set. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l02495">2495</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d77/ruby_8c_source.html#l02625">ruby_process_options()</a>.</p>

</div>
</div>
<a id="ga7f84915d6c2752a20a285b9a6c53ca18" name="ga7f84915d6c2752a20a285b9a6c53ca18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f84915d6c2752a20a285b9a6c53ca18">&#9670;&nbsp;</a></span>ruby_set_argv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_set_argv </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets argv that ruby understands. </p>
<p >Your program might have its own command line parameters etc. Handle them as you wish, and pass remaining parts of argv here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>Number of elements of <code>argv</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>Command line arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l02610">2610</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

</div>
</div>
<a id="ga91ccb58731af718175751a4cd7b6293b" name="ga91ccb58731af718175751a4cd7b6293b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91ccb58731af718175751a4cd7b6293b">&#9670;&nbsp;</a></span>ruby_set_script_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_set_script_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a>&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identical to <a class="el" href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5" title="Sets the current script name to this value.">ruby_script()</a>, except it takes the name as a Ruby String instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>File name to set.</td></tr>
  </table>
  </dd>
</dl>
<p>Identical to <a class="el" href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5" title="Sets the current script name to this value.">ruby_script()</a>, except it takes the name as a Ruby String instance.</p>
<p >Same as <a class="el" href="../../de/d43/group__embed.html#ga79f43a6183d996338565fb22430d60c5" title="Sets the current script name to this value.">ruby_script()</a> but accepts a VALUE. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d77/ruby_8c_source.html#l02508">2508</a> of file <a class="el" href="../../df/d77/ruby_8c_source.html">ruby.c</a>.</p>

</div>
</div>
<a id="ga3cdb762fb84f21bf6fed553b81888423" name="ga3cdb762fb84f21bf6fed553b81888423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cdb762fb84f21bf6fed553b81888423">&#9670;&nbsp;</a></span>ruby_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the VM and builtin libraries. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Initialization succeeded. </td></tr>
    <tr><td class="paramname">otherwise</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d57/eval_8c_source.html#l00065">65</a> of file <a class="el" href="../../d3/d57/eval_8c_source.html">eval.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d57/eval_8c_source.html#l00098">ruby_init()</a>.</p>

</div>
</div>
<a id="gae0fc89013d9cf6ab2afea16f82750789" name="gae0fc89013d9cf6ab2afea16f82750789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0fc89013d9cf6ab2afea16f82750789">&#9670;&nbsp;</a></span>ruby_sig_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_sig_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear signal handlers. </p>
<p >Ruby installs its own signal handler (apart from those which user scripts set). This is to clear that. Must be called when the ruby part terminates, before switching to your program's own logic. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d36/signal_8c_source.html#l01497">1497</a> of file <a class="el" href="../../d8/d36/signal_8c_source.html">signal.c</a>.</p>

</div>
</div>
<a id="ga9be1c274a7c6746223f95464b3fe7c45" name="ga9be1c274a7c6746223f95464b3fe7c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9be1c274a7c6746223f95464b3fe7c45">&#9670;&nbsp;</a></span>ruby_stack_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_stack_check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for stack overflow. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>NG machine stack is about to overflow. </td></tr>
    <tr><td class="paramname">false</td><td>OK there still is a room in the stack. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d16/gc_8c_source.html#l06288">6288</a> of file <a class="el" href="../../d8/d16/gc_8c_source.html">gc.c</a>.</p>

</div>
</div>
<a id="ga995cb6527ae48126e4655054f9d0b94d" name="ga995cb6527ae48126e4655054f9d0b94d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga995cb6527ae48126e4655054f9d0b94d">&#9670;&nbsp;</a></span>ruby_stack_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ruby_stack_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d3f/value_8h.html#af5fa1600fbcceb5c1bbe27dd3eaab113">VALUE</a> **&#160;</td>
          <td class="paramname"><em>topnotch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries what Ruby thinks is the machine stack. </p>
<p >Ruby manages a region of memory. It calls that area the "machine stack". By calling this function, in spite of its name, you can obtain both one end of the stack and its length at once. Which means you can know the entire region.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">topnotch</td><td>On return the pointer points to the upmost address of the macihne stack that Ruby knows. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the machine stack that Ruby knows. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d16/gc_8c_source.html#l06248">6248</a> of file <a class="el" href="../../d8/d16/gc_8c_source.html">gc.c</a>.</p>

</div>
</div>
<a id="ga0b321575afd639286fa2fb5eb46ab64d" name="ga0b321575afd639286fa2fb5eb46ab64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b321575afd639286fa2fb5eb46ab64d">&#9670;&nbsp;</a></span>ruby_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_stop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <a class="el" href="../../de/d43/group__embed.html#ga956277b3fff2f29d8d64d81ea0fade12" title="Destructs the VM.">ruby_cleanup()</a> and exits the process. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d57/eval_8c_source.html#l00289">289</a> of file <a class="el" href="../../d3/d57/eval_8c_source.html">eval.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
